# action.yml
name: 'Pytest-coverage-commenter'
description: 'Github action to add coverage report as comment'
inputs:
  service-name:
    description: 'Name of service'
    required: true
    default: ''
  coverage-report:
    description: 'Output of coverage report run'
    required: true
  github-token:
    description: 'Github token for authentication'
    required: false
    default: ${{ secrets.GITHUB_TOKEN }}
  github-owner:
    description: 'Owner of github repo'
    required: false
    default: ${{ github.repository_owner }}
  github-repo:
    description: 'Repo name'
    required: false
    default: ${{ github.repository }}
runs:
  using: 'docker'
  image: 'Dockerfile'
  args:
    - ${{ inputs.service-name }}
    - ${{ inputs.coverage-report }}
    - ${{ inputs.github-token }}
    - ${{ inputs.github-owner }}
    - ${{ inputs.github-repo }}